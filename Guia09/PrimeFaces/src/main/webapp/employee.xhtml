<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
    <title>Empleados</title>
</h:head>
<h:body>
    <p:panel>
        <h:form>
            <p:panelGrid columns="1" style="width: 50%; ">
                <p:outputLabel value="EMPLOYEE FORM" />
                <p:panelGrid columns="2">
                    <p:outputLabel value="Codigo" />
                    <p:inputText value="#{employeeBean.employee.codEmpleado}"
                                 required="true" requiredMessage="Codigo requerido" />
                    <p:outputLabel value="Nombre" />
                    <p:inputText value="#{employeeBean.employee.nombre}"
                                 required="true" requiredMessage="Nombre requerido"/>
                    <p:outputLabel value="Apellido"/>
                    <p:inputText value="#{employeeBean.employee.apellido}"
                                 required="true" requiredMessage="Apellido requerido" />
                    <p:outputLabel value="Telefono"/>
                    <p:inputText value="#{employeeBean.employee.telefono}"
                                 required="true" requiredMessage="Telefono Requerido"
                                 validatorMessage="Telefono Incorrecto. Sugerido: 2222-2345 " >
                        <f:validateRegex pattern="^[2|7|6]{1}[0-9]{3}-[0-9]{4}" />
                    </p:inputText>
                </p:panelGrid>
                <p:commandButton action="#{employeeBean.guardarEmpleado()}"
                                 ajax="false" value="Guardar" />
                <h:messages />
            </p:panelGrid>
        </h:form>
        <p:dataTable var="employee" value="#{employeeBean.listaEmpleados}" rows="10"
                     paginator="true"
                     paginatorTemplate="{CurrentPageReport} {FirstPageLink}
{PreviousPageLink}
{PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                     rowsPerPageTemplate="5,10,15">

            <p:column headerText="Codigo" sortBy="#{employee.codEmpleado}">
                <p:outputLabel value="#{employee.codEmpleado}" />
            </p:column>
            <p:column headerText="Nombre" sortBy="#{employee.nombre}">
                <p:outputLabel value="#{employee.nombre}" />
            </p:column>
            <p:column headerText="Apellido" sortBy="#{employee.apellido}">
                <p:outputLabel value="#{employee.apellido}" />
            </p:column>
            <p:column headerText="Telefono" sortBy="#{employee.telefono}">
                <p:outputLabel value="#{employee.telefono}" />
            </p:column>
        </p:dataTable>
    </p:panel>
    <ui:include src="templates/dock.xhtml" />
</h:body>
</html>